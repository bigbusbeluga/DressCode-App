<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,200,0,0" />
    <!--<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,200,0,0&icon_names=home,dresser,calendar_month,laundry,tune,settings&display=block" /> WHY DOESNT THIS WORK TF-->
</head>

{% extends 'main.html' %}
{% load static %}
{% block title %}MixMatch - DressCode{% endblock %}
{% block navbar %}
<!-- Override the navbar block with nothing -->
{% endblock %}

<body class="flex h-screen">
{% block content %}
    {% block sidebar %}
        <aside id="logo-sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0" aria-label="Sidebar">
        <div class="h-full px-3 py-4 overflow-y-auto bg-[#F9F9F9]">
            <a href="#" class="flex items-center ps-2.5 mb-5">
                <img src="{% static "images/logo.png" %}" class="w-auto h-auto" alt="DressCode Logo" />
            </a>
            <ul class="font-extrabold">
                <li>
                    <a href="#" class="flex items-center p-2 text-gray-700 rounded-lg hover:bg-blue-200 group">
                    <span class="material-symbols-rounded">home</span>
                    <span class="ms-3">Home</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center p-2 text-gray-700 rounded-lg hover:bg-blue-200 group">
                    <span class="material-symbols-rounded">dresser</span>
                    <span class="flex-1 ms-3 whitespace-nowrap">Wardrobe</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center p-2 text-gray-700 rounded-lg hover:bg-blue-200 group">
                    <span class="material-symbols-rounded">calendar_month</span>
                    <span class="flex-1 ms-3 whitespace-nowrap">Calendar</span>                    
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center p-2 text-gray-700 rounded-lg hover:bg-blue-200 group">
                    <span class="material-symbols-rounded">laundry</span>
                    <span class="flex-1 ms-3 whitespace-nowrap">Laundry</span>
                    <span class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full">3</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center p-2 text-gray-700 rounded-lg hover:bg-blue-200 group">
                    <span class="material-symbols-rounded">tune</span>
                    <span class="flex-1 ms-3 whitespace-nowrap">Mix & Match</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center p-2 text-gray-700 rounded-lg hover:bg-blue-200 group">
                    <span class="material-symbols-rounded">settings</span>
                    <span class="flex-1 ms-3 whitespace-nowrap">Settings</span>
                    </a>
                </li>
            </ul>
        </div>
        </aside>
    {% endblock %}

    <main class="p-4 sm:ml-64">
        <h2 class="text-4xl font-bold mb-4 text-gray-700">Outfit Canvas</h2>
        <!-- Flex container for the two sections -->
        <div class="flex gap-4">
            <!-- Outfit Canvas -->
            <section class="w-1/3 bg-white rounded-2xl p-4 flex flex-col items-center">
                <div id="outfit-canvas" class="w-72 h-[500px] border rounded-xl p-4 flex flex-wrap justify-center items-center gap-4 bg-[#fefefe] shadow-md">
                    <!-- Dynamically added clothes will appear here -->
                </div>
                <button class="mt-4 bg-pink-300 text-black rounded-full px-6 py-2 font-semibold">Save Outfit</button>
            </section>

            <!-- Clothes Collection -->
            <section class="border flex-1 bg-[#e9f4ff] rounded-2xl p-4 overflow-y-auto shadow-md">
                <div class="flex justify-between mb-4">
                    <div class="flex gap-2">
                        <button class="rounded-full px-4 py-1 bg-white border">ALL</button>
                        <button class="rounded-full px-4 py-1 bg-white border">Tops</button>
                        <button class="rounded-full px-4 py-1 bg-white border">Bottoms</button>
                        <button class="rounded-full px-4 py-1 bg-white border">Footwear</button>
                        <button class="rounded-full px-4 py-1 bg-white border">Accessories</button>
                    </div>
                    <button class="bg-pink-300 px-4 py-1 rounded-md">Upload</button>
                </div>
                <div class="grid grid-cols-3 gap-4">
                    {% for item in clothes %}
                    <div class="bg-white p-2 rounded-xl shadow flex flex-col items-center">
                        <img src="{{ item.image.url }}" alt="Clothing" class="h-28 object-contain">
                        <button onclick="addToCanvas('{{ item.image.url }}')" class="mt-2 text-sm bg-white border border-black px-2 py-1 rounded-md">Add</button>
                    </div>
                    {% endfor %}
                </div>
            </section>
        </div>
    </main>

    <script>
        function addToCanvas(imageUrl) {
            const img = document.createElement('img');
            img.src = imageUrl;
            img.className = 'h-24';
            document.getElementById('outfit-canvas').appendChild(img);
        }
    </script>

{% endblock %}
</body>